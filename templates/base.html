<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}TodoAPI{% endblock %}</title>
  <link rel="stylesheet" href="{{ url_for('static', path='styles.css') }}?v=999">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  {% block head %}{% endblock %}
</head>
<body class="bg">
  <!-- добавили настраиваемый класс -->
  <main class="container {% block container_class %}{% endblock %}">
    {% block content %}{% endblock %}
  </main>
</body>
</html>

<style>
  :root{
    --bg:#0f1115;
    --card:#141821;
    --card-2:#10141b;
    --border:#222938;
    --muted:#98a2b3;
    --accent:#4c7dff;
    --success:#22c55e;
    --warn:#f59e0b;
  }

  /* общая типографика */
  .page .title{
    letter-spacing:.2px;
    font-weight:800;
    background:linear-gradient(90deg,#fff, #9fb6ff 60%);
    -webkit-background-clip:text;background-clip:text;color:transparent;
  }
  .page .muted{color:var(--muted);opacity:.9}

  /* карточки статистики */
  .stats{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:18px}
  .stat{
    position:relative;
    padding:18px 18px 16px 18px;
    border-radius:14px;
    background:
      radial-gradient(120% 120% at -10% -30%,rgba(76,125,255,.18),transparent 55%),
      linear-gradient(180deg, var(--card), var(--card-2));
    border:1px solid rgba(255,255,255,.04);
    box-shadow:0 12px 24px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.02);
    transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease;
  }
  .stat:hover{ transform:translateY(-2px); box-shadow:0 18px 34px rgba(0,0,0,.35) }
  .stat:focus-within{ outline:2px solid var(--accent); outline-offset:2px }

  .stat-icon{
    width:36px; height:36px; display:grid; place-items:center;
    border-radius:10px;
    background:rgba(255,255,255,.04);
    border:1px solid rgba(255,255,255,.06);
    box-shadow:inset 0 0 0 1px rgba(255,255,255,.03), 0 4px 12px rgba(0,0,0,.25);
    margin-bottom:10px;
  }
  .stat-icon svg{ width:20px;height:20px;stroke:#9aa4b2 }
  .stat-icon.success{ background:rgba(34,197,94,.12); border-color:rgba(34,197,94,.25) }
  .stat-icon.success svg{ stroke:var(--success) }
  .stat-icon.warn{ background:rgba(245,158,11,.12); border-color:rgba(245,158,11,.25) }
  .stat-icon.warn svg{ stroke:var(--warn) }

  .stat-num{ font-size:40px; font-weight:800; line-height:1; margin-top:2px }
  .stat-label{ color:var(--muted); font-size:14px; margin-top:4px; letter-spacing:.2px }

  /* тулбар: поиск + фильтры */
  .toolbar{ gap:12px }
  .search{
    background:linear-gradient(180deg,#0f131a,#0b0f15);
    border:1px solid var(--border);
    border-radius:12px; padding:10px 12px; gap:8px;
    box-shadow:inset 0 1px 0 rgba(255,255,255,.03);
  }
  .search input{ color:#e7eaf0 }
  .filters .pill,
  .btn.primary{
    border-radius:12px;
    border:1px solid var(--border);
    background:linear-gradient(180deg,#151a23,#0d1118);
    transition:all .15s ease;
  }
  .filters .pill.active{
    border-color:rgba(76,125,255,.45);
    box-shadow:0 0 0 3px rgba(76,125,255,.15);
  }
  .filters .pill:hover{ transform:translateY(-1px) }
  .btn.primary{
    background:linear-gradient(180deg,#3e6dff,#2351ff);
    border-color:#2a4fff; color:#fff; font-weight:700
  }
  .btn.primary:hover{ filter:brightness(1.05); transform:translateY(-1px) }

  /* карточки задач */
  .task{
    background:linear-gradient(180deg,#121621,#0e121a);
    border:1px solid var(--border);
    border-radius:14px; padding:14px 16px; margin-bottom:10px;
    transition:transform .12s ease, border-color .12s ease, background .12s ease;
  }
  .task:hover{
    transform:translateY(-1px);
    border-color:rgba(76,125,255,.35);
    background:
      radial-gradient(120% 120% at 0% -40%,rgba(76,125,255,.12),transparent 55%),
      linear-gradient(180deg,#121621,#0e121a);
  }
  .task .badge{ border-radius:8px; padding:2px 8px; font-size:12px }
  .badge-success{ background:rgba(34,197,94,.15); color:#a8f3c3; border:1px solid rgba(34,197,94,.3) }
  .badge-low{ background:rgba(148,163,184,.12); color:#cdd6e1; border:1px solid rgba(148,163,184,.25) }
  .badge-normal{ background:rgba(99,102,241,.12); color:#c7c9ff; border:1px solid rgba(99,102,241,.25) }
  .badge-high{ background:rgba(239,68,68,.14); color:#ffb4b4; border:1px solid rgba(239,68,68,.28) }

  /* пустой список */
  .empty{
    border:1px dashed rgba(255,255,255,.12);
    border-radius:14px; padding:28px;
    color:#9aa4b2; background:rgba(255,255,255,.03)
  }
</style>

