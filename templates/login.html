{% extends "base.html" %}
{% block title %}Вход — TodoAPI{% endblock %}

{% block content %}
<div class="container container--auth">
  <div class="auth-card">
    <div class="auth-body">
      <h1 class="auth-title">TodoAPI</h1>
      <p class="auth-sub">Эффективное управление задачами</p>

      {% if error %}
        <div class="auth-alert">{{ error }}</div>
      {% endif %}

      <form method="post" action="/login" class="auth-form">
        <label class="auth-label" for="email">Email</label>
        <div class="auth-row">
          <span class="auth-icon">
            <!-- Серый конверт -->
            <svg viewBox="0 0 24 24">
              <rect x="3" y="5" width="18" height="14" rx="2" ry="2" fill="none"/>
              <polyline points="3,7 12,13 21,7" fill="none"/>
            </svg>
          </span>
          <input class="auth-input" id="email" name="email" type="email" required
                 value="{{ email or '' }}">
        </div>

        <label class="auth-label" for="password">Пароль</label>
        <div class="auth-row">
          <span class="auth-icon">
            <!-- Серый замок -->
            <svg viewBox="0 0 24 24">
              <rect x="6" y="11" width="12" height="10" rx="2" ry="2" fill="none"/>
              <path d="M8 11V7a4 4 0 0 1 8 0v4" fill="none"/>
            </svg>
          </span>
          <input class="auth-input" id="password" name="password" type="password" required>
          <button type="button" class="auth-eye" aria-label="Показать пароль"
                  onclick="const i=document.getElementById('password'); i.type=i.type==='password'?'text':'password'">
            <!-- Серый глаз -->
            <svg viewBox="0 0 24 24">
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12z" fill="none"/>
              <circle cx="12" cy="12" r="3" fill="none"/>
            </svg>
          </button>
        </div>

        <button class="auth-btn" type="submit">Войти</button>
      </form>

      <div class="auth-foot">
        Нет аккаунта? <a href="/register">Создать аккаунт</a>
      </div>
    </div>
  </div>
</div>
{% endblock %}
